{"version":3,"sources":["ng://popup-modal/lib/popup-modal.service.ts","ng://popup-modal/lib/popup-modal.component.ts","ng://popup-modal/lib/popup-modal.module.ts"],"names":["PopupModalService","prototype","add","modal","this","modals","push","remove","id","filter","x","open","close","Injectable","args","providedIn","PopupModalComponent","modalService","el","element","nativeElement","ngOnInit","document","body","appendChild","addEventListener","e","target","className","console","error","ngOnDestroy","style","display","classList","Component","selector","template","styles","encapsulation","ViewEncapsulation","None","ElementRef","Input","PopupModalModule","NgModule","imports","declarations","exports"],"mappings":"oQAAA,IAAAA,EAAA,WAOE,SAAAA,gBAEwB,UAEtBA,EAAAC,UAAAC,IAAA,SAAIC,GACAC,KAAKC,OAAOC,KAAKH,IAGrBH,EAAAC,UAAAM,OAAA,SAAOC,GACHJ,KAAKC,OAASD,KAAKC,OAAOI,OAAO,SAAAC,GAAK,OAAAA,EAAEF,KAAOA,KAGnDR,EAAAC,UAAAU,KAAA,SAAKH,GACgBJ,KAAKC,OAAOI,OAAO,SAAAC,GAAK,OAAAA,EAAEF,KAAOA,IAAI,GAChDG,QAGVX,EAAAC,UAAAW,MAAA,SAAMJ,GACeJ,KAAKC,OAAOI,OAAO,SAAAC,GAAK,OAAAA,EAAEF,KAAOA,IAAI,GAChDI,6BAxBbC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,sJAHd,GCAAC,EAAA,WAmBI,SAAAA,EAAoBC,EAAyCC,GAAzCd,KAAAa,aAAAA,EAAyCb,KAAAc,GAAAA,EACzDd,KAAKe,QAAUD,EAAGE,qBAGtBJ,EAAAf,UAAAoB,SAAA,WACI,IAAIlB,EAAQC,KAEPA,KAAKI,IAKVc,SAASC,KAAKC,YAAYpB,KAAKe,SAG/Bf,KAAKe,QAAQM,iBAAiB,QAAS,SAAUC,GAClB,cAAvBA,EAAEC,OAAOC,WACTzB,EAAMS,UAKdR,KAAKa,aAAaf,IAAIE,OAdlByB,QAAQC,MAAM,wBAiBtBd,EAAAf,UAAA8B,YAAA,WACI3B,KAAKa,aAAaV,OAAOH,KAAKI,IAC9BJ,KAAKe,QAAQZ,UAIjBS,EAAAf,UAAAU,KAAA,WACIP,KAAKe,QAAQa,MAAMC,QAAU,QAC7BX,SAASC,KAAKW,UAAUhC,IAAI,mBAIhCc,EAAAf,UAAAW,MAAA,WACIR,KAAKe,QAAQa,MAAMC,QAAU,OAC7BX,SAASC,KAAKW,UAAU3B,OAAO,uCAvDtC4B,EAAAA,UAASrB,KAAA,CAAC,CACTsB,SAAU,kBACVC,SAAU,qMAMVC,OAAQ,CAAC,6TACTC,cAAeC,EAAAA,kBAAkBC,kDAX1BzC,SADW0C,EAAAA,0CAgBfC,EAAAA,WAhBL,GCAAC,EAAA,oDAGCC,EAAAA,SAAQ/B,KAAA,CAAC,CACRgC,QAAS,GAETC,aAAc,CAAC/B,GACfgC,QAAS,CAAChC,SAPZ","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PopupModalService {\n\n  constructor() { }\n\n  private modals: any[] = [];\n \n    add(modal: any) {\n        this.modals.push(modal);\n    }\n \n    remove(id: string) {\n        this.modals = this.modals.filter(x => x.id !== id);\n    }\n \n    open(id: string) {\n        let modal: any = this.modals.filter(x => x.id === id)[0];\n        modal.open();\n    }\n \n    close(id: string) {\n        let modal: any = this.modals.filter(x => x.id === id)[0];\n        modal.close();\n    }\n}\n","import { Component, ElementRef, Input, OnInit, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { PopupModalService } from './popup-modal.service';\n\n@Component({\n  selector: 'ppl-popup-modal',\n  template: `<div class=\"ppl-modal\">\n            <div class=\"ppl-modal-body\">\n                <ng-content></ng-content>\n            </div>\n        </div>\n        <div class=\"ppl-modal-background\"></div>`,\n  styles: [`ppl-popup-modal{display:none}.ppl-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;overflow:auto}.ppl-modal-background{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;opacity:.8;z-index:10}.ppl-modal-body{padding:20px;background:#fff;margin:10%}body.ppl-modal-open{overflow:hidden}`],\n  encapsulation: ViewEncapsulation.None\n})\nexport class PopupModalComponent implements OnInit, OnDestroy {\n\n    @Input() id: string;\n    private element: any;\n \n    constructor(private modalService: PopupModalService, private el: ElementRef) {\n        this.element = el.nativeElement;\n    }\n \n    ngOnInit(): void {\n        let modal = this;\n \n        if (!this.id) {\n            console.error('Id is not available');\n            return;\n        }\n \n        document.body.appendChild(this.element);\n \n        // close modal on background click\n        this.element.addEventListener('click', function (e: any) {\n            if (e.target.className === 'ppl-modal') {\n                modal.close();\n            }\n        });\n \n        \n        this.modalService.add(this);\n    }\n \n    ngOnDestroy(): void {\n        this.modalService.remove(this.id);\n        this.element.remove();\n    }\n \n    // open modal\n    open(): void {\n        this.element.style.display = 'block';\n        document.body.classList.add('ppl-modal-open');\n    }\n \n    // close modal\n    close(): void {\n        this.element.style.display = 'none';\n        document.body.classList.remove('ppl-modal-open');\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { PopupModalComponent } from './popup-modal.component';\n\n@NgModule({\n  imports: [\n  ],\n  declarations: [PopupModalComponent],\n  exports: [PopupModalComponent]\n})\nexport class PopupModalModule { }\n"]}