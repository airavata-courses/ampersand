{"version":3,"file":"popup-modal.js.map","sources":["ng://popup-modal/lib/popup-modal.service.ts","ng://popup-modal/lib/popup-modal.component.ts","ng://popup-modal/lib/popup-modal.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PopupModalService {\n\n  constructor() { }\n\n  private modals: any[] = [];\n \n    add(modal: any) {\n        this.modals.push(modal);\n    }\n \n    remove(id: string) {\n        this.modals = this.modals.filter(x => x.id !== id);\n    }\n \n    open(id: string) {\n        let modal: any = this.modals.filter(x => x.id === id)[0];\n        modal.open();\n    }\n \n    close(id: string) {\n        let modal: any = this.modals.filter(x => x.id === id)[0];\n        modal.close();\n    }\n}\n","import { Component, ElementRef, Input, OnInit, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { PopupModalService } from './popup-modal.service';\n\n@Component({\n  selector: 'ppl-popup-modal',\n  template: `<div class=\"ppl-modal\">\n            <div class=\"ppl-modal-body\">\n                <ng-content></ng-content>\n            </div>\n        </div>\n        <div class=\"ppl-modal-background\"></div>`,\n  styles: [`ppl-popup-modal{display:none}.ppl-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;overflow:auto}.ppl-modal-background{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;opacity:.8;z-index:10}.ppl-modal-body{padding:20px;background:#fff;margin:10%}body.ppl-modal-open{overflow:hidden}`],\n  encapsulation: ViewEncapsulation.None\n})\nexport class PopupModalComponent implements OnInit, OnDestroy {\n\n    @Input() id: string;\n    private element: any;\n \n    constructor(private modalService: PopupModalService, private el: ElementRef) {\n        this.element = el.nativeElement;\n    }\n \n    ngOnInit(): void {\n        let modal = this;\n \n        if (!this.id) {\n            console.error('Id is not available');\n            return;\n        }\n \n        document.body.appendChild(this.element);\n \n        // close modal on background click\n        this.element.addEventListener('click', function (e: any) {\n            if (e.target.className === 'ppl-modal') {\n                modal.close();\n            }\n        });\n \n        \n        this.modalService.add(this);\n    }\n \n    ngOnDestroy(): void {\n        this.modalService.remove(this.id);\n        this.element.remove();\n    }\n \n    // open modal\n    open(): void {\n        this.element.style.display = 'block';\n        document.body.classList.add('ppl-modal-open');\n    }\n \n    // close modal\n    close(): void {\n        this.element.style.display = 'none';\n        document.body.classList.remove('ppl-modal-open');\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { PopupModalComponent } from './popup-modal.component';\n\n@NgModule({\n  imports: [\n  ],\n  declarations: [PopupModalComponent],\n  exports: [PopupModalComponent]\n})\nexport class PopupModalModule { }\n"],"names":[],"mappings":";;;;;;AAAA;IAOE;sBAEwB,EAAE;KAFT;;;;;IAIf,GAAG,CAAC,KAAU;QACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC3B;;;;;IAED,MAAM,CAAC,EAAU;QACb,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;KACtD;;;;;IAED,IAAI,CAAC,EAAU;;QACX,IAAI,KAAK,GAAQ,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACzD,KAAK,CAAC,IAAI,EAAE,CAAC;KAChB;;;;;IAED,KAAK,CAAC,EAAU;;QACZ,IAAI,KAAK,GAAQ,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACzD,KAAK,CAAC,KAAK,EAAE,CAAC;KACjB;;;YAzBJ,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;ACJD;;;;;IAmBI,YAAoB,YAA+B,EAAU,EAAc;QAAvD,iBAAY,GAAZ,YAAY,CAAmB;QAAU,OAAE,GAAF,EAAE,CAAY;QACvE,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC;KACnC;;;;IAED,QAAQ;;QACJ,IAAI,KAAK,GAAG,IAAI,CAAC;QAEjB,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE;YACV,OAAO,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;YACrC,OAAO;SACV;QAED,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;QAGxC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAU,CAAM;YACnD,IAAI,CAAC,CAAC,MAAM,CAAC,SAAS,KAAK,WAAW,EAAE;gBACpC,KAAK,CAAC,KAAK,EAAE,CAAC;aACjB;SACJ,CAAC,CAAC;QAGH,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;KAC/B;;;;IAED,WAAW;QACP,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;KACzB;;;;IAGD,IAAI;QACA,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;QACrC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;KACjD;;;;IAGD,KAAK;QACD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACpC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;KACpD;;;YAxDJ,SAAS,SAAC;gBACT,QAAQ,EAAE,iBAAiB;gBAC3B,QAAQ,EAAE;;;;;iDAKqC;gBAC/C,MAAM,EAAE,CAAC,2TAA2T,CAAC;gBACrU,aAAa,EAAE,iBAAiB,CAAC,IAAI;aACtC;;;;YAZQ,iBAAiB;YADN,UAAU;;;iBAgBzB,KAAK;;;;;;;AChBV;;;YAGC,QAAQ,SAAC;gBACR,OAAO,EAAE,EACR;gBACD,YAAY,EAAE,CAAC,mBAAmB,CAAC;gBACnC,OAAO,EAAE,CAAC,mBAAmB,CAAC;aAC/B;;;;;;;;;;;;;;;"}
